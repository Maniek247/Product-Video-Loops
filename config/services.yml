services:
    PrestaShop\Module\ProductVideoLoops\Form\Modifier\ProductFormModifier:
        class: PrestaShop\Module\ProductVideoLoops\Form\Modifier\ProductFormModifier
        public: true
        autowire: true
        arguments:
            $formBuilderModifier: '@form.form_builder_modifier'

    PrestaShop\Module\ProductVideoLoops\Form\Modifier\CombinationFormModifier:
        public: true
        autowire: true
        arguments:
            $formBuilderModifier: '@form.form_builder_modifier'

    PrestaShop\Module\ProductVideoLoops\CQRS\CommandHandler\AddProductVideoCommandHandler:
        class: PrestaShop\Module\ProductVideoLoops\CQRS\CommandHandler\AddProductVideoCommandHandler
        arguments:
            - '@PrestaShop\Module\ProductVideoLoops\Service\VideoManagementService'
        tags:
            - name: tactician.handler
              command: PrestaShop\Module\ProductVideoLoops\CQRS\Command\AddProductVideoCommand

    PrestaShop\Module\ProductVideoLoops\CQRS\CommandBuilder\ProductVideoCommandsBuilder:
        class: PrestaShop\Module\ProductVideoLoops\CQRS\CommandBuilder\ProductVideoCommandsBuilder
        public: true
        autowire: true
        # This tag is important. Core product command builder finds this builder by the tag
        tags: 
            - 'core.product_command_builder'

    PrestaShop\Module\ProductVideoLoops\CQRS\QueryHandler\GetProductVideoQueryHandler:
        class: PrestaShop\Module\ProductVideoLoops\CQRS\QueryHandler\GetProductVideoQueryHandler
        arguments:
            - '@PrestaShop\Module\ProductVideoLoops\Repository\ProductVideoRepository'

    PrestaShop\Module\ProductVideoLoops\Service\VideoManagementService:
        public: true
        autowire: true
        arguments:
            $videoUploader: '@PrestaShop\Module\ProductVideoLoops\Service\VideoUploader'
            $productVideoRepository: '@PrestaShop\Module\ProductVideoLoops\Repository\ProductVideoRepository'

    PrestaShop\Module\ProductVideoLoops\Service\VideoUploader:
    # productvideoloops.services.video_uploader:
        class: PrestaShop\Module\ProductVideoLoops\Service\VideoUploader
        arguments:
            - '@PrestaShop\Module\ProductVideoLoops\Repository\ProductVideoRepository'

    PrestaShop\Module\ProductVideoLoops\Repository\ProductVideoRepository:
    # productvideoloops.services.video_repository:
        class: PrestaShop\Module\ProductVideoLoops\Repository\ProductVideoRepository
        public: true
        autowire: true

    # PrestaShop\Module\ProductVideoLoops\Subscriber\FrontControllerHookSubscriber:
    # productvideoloops.hook_subscriber.front_controller:
    #    class: PrestaShop\Module\ProductVideoLoops\Subscriber\FrontControllerHookSubscriber
    #    public: true
    #    autowire: true
    #    arguments:
    #        - '@PrestaShop\Module\ProductVideoLoops\CQRS\QueryHandler\GetProductVideoQueryHandler'
